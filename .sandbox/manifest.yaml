hooks:
  build:
    cmd: go build -o bin/server cmd/main.go

daemons:
  zookeeper:
    run:
      dir: broker
      cmd: |
        bin/zookeeper-server-stop.sh
        bin/zookeeper-server-start.sh config/zookeeper.properties
  kafka:
    run:
      dir: broker
      cmd: |
        sleep 20
        bin/kafka-server-stop.sh
        bin/kafka-server-start.sh config/server.properties
        cd ../scripts/kafka && ./kafka-create-topics.sh
  websocket:
    run:
      cmd: bin/server
